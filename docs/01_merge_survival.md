---
layout: default
title: 머지 서바이벌
description: 머지 서바이벌 소개글
---

## 사용한 유니티 기능

- SRP-URP2D
- 어드레서블에셋
- New Input System
- TextMeshPro
- UGUI
- Timeline (아웃게임 퀘스트 리시브 및 클리어 연출에 사용)
- Cinemachine (아웃게임 카메라 컨트롤에 사용)

---

## 엑셀 임포터

엑셀에서 작성한 데이터를 JSON 형태로 변환하여 **TextAsset**으로 자동 변환하는 시스템을 구현했습니다.

- 일반적으로 **시트명에 해당하는 클래스** 의 배열 형태로 변환되며, 파싱을 할 수 있습니다.
- 특정 데이터 형식에 따라서는 Json 변환 방식을 커스텀할 수 있도록 설계했습니다.

### 사용 예시

- 엑셀에서 데이터를 입력 합니다.

![image4.png](./assets/image4.png)

- 엑셀 파일을 유니티 프로젝트에 저장합니다.

![image3.png](./assets/image3.png)

- 자동으로 TextAsset 형태로 변환됩니다.
 
![image5.png](./assets/image5.png)

---

## 인게임

![ingame_01.png](./assets/ingame_01.png)
- Grid : 인게임 보드 입니다. (View)
- Map : 인게임 보드의 데이터를 관리 합니다. (Model)
- Inspector : 블록의 정보를 표시 합니다.
- QuestWindow : 진행중인 퀘스트를 표시 합니다.
- RewardBox : 보상이 순차적으로 쌓이는 상자 입니다.
- BlockInfoManager : 블록 정보를 관리 합니다.
- QuestManager : 퀘스트 정보를 관리 합니다.
- BlockFactory : BlockInfoManager에서 블록 정보를 가져와 블록 오브젝트를 만듭니다.

### 블록 시스템

![ingame_02.png](./assets/ingame_02.png)

블록 시스템은 **BlockComponent 기반의 모듈형 설계**를 적용했습니다.

- 각 블록은 **여러 개의 BlockComponent**로 구성됩니다.
	- 예: 상자A 블록 = (시간 경과 후 다른 블록으로 변경) + (동일 블록 2개 합치기) + (블록 판매 가능)
- 블록은 액션들을 가지고 있습니다.
	- 예: 블록 선택, 블록 이동, 블록 포커스 등
- **BlockComponent는 필요한 액션을 구현** 하여 동작 합니다.

이러한 방식 덕분에 신규 기능 추가 시 **기존 코드를 수정할 필요 없이** 확장 방식으로 개발할 수 있습니다.

---

## 아웃게임

### 퀘스트 시스템

퀘스트 시스템은 **챕터 > 퀘스트 > 미션** 구조로 설계되었습니다.  
각 요소의 진행 상태가 순차적으로 **히스토리**가 기록됩니다.

![image6.png](./assets/image6.png)

(예: 손잡이 잡기, 의자 잡기 등의 미션을 모두 완료하면 퀘스트 클리어 → 모든 퀘스트 완료 시 챕터 클리어)

### 아웃게임 월드

퀘스트 시스템에서 남긴 히스토리를 기반으로 아웃게임 월드의 모습이 **점진적으로 변화**합니다.

![image8.png](./assets/image8.png)

초반에는 황량한 월드가

![image9.png](./assets/image9.png)

퀘스트 진행도에 따라서 변화 합니다. (챕터1 -> 챕터13)

### 다이얼로그 시스템

캐릭터 간 대화를 위한 **다이얼로그 시스템**을 구현했습니다.

- 엑셀에서 다이얼로그 데이터를 입력하면 **자동 변환**
- 어드레서블 키를 지정 후 **다이얼로그 플레이어에서 호출**하면 자동 재생

![image10.png](./assets/image10.png)

### 퀘스트 리시브 / 클리어시 연출

- **Unity Timeline**을 활용하여 퀘스트 리시브 및 클리어 연출을 제작했습니다.
- 일부 기능은 **Timeline의 커스텀 트랙**을 직접 구현해서 사용했습니다. (연출 도중 다이얼로그 처리, 스파인 오브젝트 관리 등)

![image11.png](./assets/image11.png)

### 블록 생성 / 교환기

- 아웃게임 오브젝트에 부착되는 기능으로 특정 블록을 받거나 재료 블록을 주고 교환 할 수 있는 기능 입니다.

![image12.png](./assets/image12.png)

![image13.png](./assets/image13.png)

---

## 정리

- 이 프로젝트에서는 **유니티 엔진의 다양한 기능을 적극 활용**하여 개발 생산성을 높이려 했습니다.
- **인게임** : 모듈형 블록 시스템을 도입해 **유지보수성과 확장성을 강화**했습니다.
- **아웃게임** : 퀘스트 진행도에 따른 **월드 변화**, **다이얼로그 시스템**, **Timeline을 활용한 연출**을 구현했습니다.
- **데이터 관리** : 엑셀 임포터를 통해 **데이터 변환 및 관리 프로세스를 자동화**하여 효율성을 높였습니다.
